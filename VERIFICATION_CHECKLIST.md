# 動作確認チェックリスト

## フェーズ6・7・8・9の動作確認手順

### 前提条件

1. 開発サーバーが起動していること
   ```bash
   npm run dev
   ```

2. ブラウザで `http://localhost:3000` にアクセス可能なこと

---

## フェーズ6: コンテンツの詳細化（図解の追加）

### 確認項目

#### 1. Mermaidダイアグラムの表示確認

**手順**:
1. ダッシュボードから任意のコースを選択
2. レッスンページに移動
3. 以下のレッスンでMermaidダイアグラムが表示されることを確認：

**確認すべきレッスン**:
- ✅ コース2 > セクション1 > レッスン1「クリーンアーキテクチャの原則」
  - レイヤー構造の階層図が表示される
- ✅ コース2 > セクション1 > レッスン2「レイヤー構造と依存関係」
  - 依存関係の方向性を示すフローチャートが表示される
- ✅ コース2 > セクション2 > レッスン1「ヘキサゴナルアーキテクチャ」
  - アーキテクチャの構造図が表示される
- ✅ コース4 > セクション2 > レッスン3「RAG（Retrieval-Augmented Generation）」
  - RAGのデータフロー図が表示される
- ✅ コース7 > セクション3 > レッスン2「AIワークフローパターン」
  - シーケンシャル、パラレル、条件分岐パターンの図解が表示される

**確認ポイント**:
- [ ] ダイアグラムが正しくレンダリングされる
- [ ] ダークモード切り替え時にテーマが変更される
- [ ] ローディング表示が適切に表示される
- [ ] エラー時にエラーメッセージが表示される

---

## フェーズ7: パフォーマンス最適化

### 確認項目

#### 1. ビルドの確認

**手順**:
```bash
npm run build
```

**確認ポイント**:
- [ ] ビルドが成功する
- [ ] エラーや警告がない
- [ ] バンドルサイズが適切である

#### 2. コード分割の確認

**手順**:
1. ブラウザの開発者ツールを開く
2. Networkタブを開く
3. ページをリロード
4. JSファイルの読み込みを確認

**確認ポイント**:
- [ ] MDXRendererが別チャンクとして読み込まれる
- [ ] MermaidRendererが別チャンクとして読み込まれる
- [ ] ChatUIが別チャンクとして読み込まれる

#### 3. キャッシュの確認

**手順**:
1. ダッシュボードにアクセス
2. ページソースを確認（ISRの動作確認）

**確認ポイント**:
- [ ] ページが適切にキャッシュされる
- [ ] 再生成が60秒間隔で行われる（開発環境では確認困難）

---

## フェーズ8: 進捗可視化の強化（グラフ・チャート）

### 確認項目

#### 1. ダッシュボードの進捗チャート表示

**手順**:
1. `/dashboard`にアクセス
2. 進捗サマリーカードの下に進捗チャートが表示されることを確認

**確認ポイント**:
- [ ] コース別進捗バーチャートが表示される
  - [ ] 各コースのプログレスバーが表示される
  - [ ] 完了率とレッスン数が表示される
  - [ ] アニメーションがスムーズに動作する
- [ ] 週間学習活動チャートが表示される（データがある場合）
  - [ ] 過去7日間の棒グラフが表示される
  - [ ] 日付と曜日が正しく表示される
  - [ ] アニメーションがスムーズに動作する
- [ ] 理解度分布チャートが表示される（データがある場合）
  - [ ] 4つの理解度レベルが円グラフで表示される
  - [ ] 各理解度の割合が表示される
  - [ ] アニメーションがスムーズに動作する

#### 2. データの更新確認

**手順**:
1. 任意のレッスンを完了
2. 理解度を選択（例: "良好"）
3. ダッシュボードに戻る
4. チャートが更新されることを確認

**確認ポイント**:
- [ ] コース別進捗が更新される
- [ ] 週間学習活動が更新される
- [ ] 理解度分布が更新される

#### 3. レスポンシブデザインの確認

**手順**:
1. ブラウザの開発者ツールでデバイスモードに切り替え
2. モバイル（375px）、タブレット（768px）、デスクトップ（1920px）で確認

**確認ポイント**:
- [ ] モバイルで適切に表示される
- [ ] タブレットで適切に表示される
- [ ] デスクトップで適切に表示される

---

## フェーズ9: 学習統計・レポート機能

### 確認項目

#### 1. 統計ページへのアクセス

**手順**:
1. ダッシュボードのヘッダーにある「詳細統計」ボタンをクリック
2. または `/statistics` に直接アクセス

**確認ポイント**:
- [ ] 統計ページが表示される
- [ ] ヘッダーが正しく表示される

#### 2. 基本統計の表示確認

**手順**:
1. 統計ページの「基本統計」セクションを確認

**確認ポイント**:
- [ ] 総レッスン数が表示される
- [ ] 完了レッスン数が表示される
- [ ] 進捗率が表示される
- [ ] 平均理解度が表示される

#### 3. 学習パターンの表示確認

**手順**:
1. 統計ページの「学習パターン」セクションを確認

**確認ポイント**:
- [ ] 1日あたりの平均レッスン数が表示される
- [ ] 最も活動的な曜日が表示される
- [ ] 最長連続学習日数が表示される
- [ ] 現在の連続学習日数が表示される

#### 4. 週間活動チャートの表示確認

**手順**:
1. 統計ページの「週間活動（過去12週間）」セクションを確認

**確認ポイント**:
- [ ] 過去12週間の棒グラフが表示される
- [ ] 各週の完了レッスン数が表示される
- [ ] アニメーションがスムーズに動作する

#### 5. コース別詳細統計の表示確認

**手順**:
1. 統計ページの「コース別詳細統計」セクションを確認

**確認ポイント**:
- [ ] 各コースの統計が表示される
- [ ] 進捗率が表示される
- [ ] 完了数 / 全レッスン数が表示される
- [ ] 平均理解度が表示される
- [ ] 最終アクセス日が表示される
- [ ] コース詳細ページへのリンクが機能する

#### 6. データの更新確認

**手順**:
1. 新しいレッスンを完了
2. 理解度を選択
3. 統計ページをリロード
4. データが更新されることを確認

**確認ポイント**:
- [ ] 基本統計が更新される
- [ ] 学習パターンが更新される
- [ ] 週間活動が更新される
- [ ] コース別統計が更新される

#### 7. レスポンシブデザインの確認

**手順**:
1. ブラウザの開発者ツールでデバイスモードに切り替え
2. モバイル、タブレット、デスクトップで確認

**確認ポイント**:
- [ ] モバイルで適切に表示される
- [ ] タブレットで適切に表示される
- [ ] デスクトップで適切に表示される

---

## 統合確認

### 1. ナビゲーションの確認

**手順**:
1. ダッシュボード → 統計ページ
2. 統計ページ → コース詳細ページ
3. コース詳細ページ → レッスンページ
4. レッスンページ → ダッシュボード

**確認ポイント**:
- [ ] 各ページ間のナビゲーションがスムーズに動作する
- [ ] リンクが正しく機能する

### 2. パフォーマンスの確認

**手順**:
1. ブラウザの開発者ツールでPerformanceタブを開く
2. ページをリロード
3. パフォーマンスメトリクスを確認

**確認ポイント**:
- [ ] First Contentful Paint (FCP) < 1.5秒
- [ ] Time to Interactive (TTI) < 3.5秒
- [ ] バンドルサイズが適切である

### 3. エラーの確認

**手順**:
1. ブラウザの開発者ツールでConsoleタブを開く
2. 各ページを操作
3. エラーがないことを確認

**確認ポイント**:
- [ ] JavaScriptエラーがない
- [ ] ネットワークエラーがない
- [ ] 警告が適切に処理されている

---

## 問題が発生した場合

### よくある問題と対処法

1. **Mermaidダイアグラムが表示されない**
   - ブラウザのコンソールでエラーを確認
   - ネットワークタブでMermaidライブラリの読み込みを確認

2. **チャートが表示されない**
   - データが存在するか確認（レッスンを完了しているか）
   - ブラウザのコンソールでエラーを確認

3. **統計データが更新されない**
   - ページをリロード
   - キャッシュをクリアして再試行

4. **パフォーマンスが悪い**
   - 開発者ツールでパフォーマンスプロファイルを取得
   - 不要なリクエストがないか確認

---

## 確認完了チェックリスト

- [ ] フェーズ6: Mermaidダイアグラムの表示確認
- [ ] フェーズ7: パフォーマンス最適化の確認
- [ ] フェーズ8: 進捗チャートの表示確認
- [ ] フェーズ9: 統計ページの表示確認
- [ ] 統合確認: ナビゲーション、パフォーマンス、エラー

---

## 次のステップ

動作確認が完了したら：
1. 問題があれば報告
2. 改善点があれば提案
3. 追加の機能実装が必要か検討
