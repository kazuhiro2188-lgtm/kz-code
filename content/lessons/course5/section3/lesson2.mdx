# 冗長化パターン

## はじめに

このレッスンでは、**冗長化パターン**について学びます。

## 冗長化とは

**冗長化**は、複数のリソースを用意し、1つが故障しても他のリソースで動作を継続することです。

## 冗長化のレベル

### 1. サーバーレベルの冗長化

複数のサーバーを用意します。

**例:**
- アクティブ-アクティブ: 複数のサーバーが同時に動作
- アクティブ-スタンバイ: 1つのサーバーが動作、他のサーバーは待機

### 2. データセンターレベルの冗長化

複数のデータセンターにリソースを配置します。

**例:**
- マルチリージョン: 複数のリージョンにリソースを配置
- アクティブ-パッシブ: 1つのリージョンがアクティブ、他のリージョンはパッシブ

### 3. ネットワークレベルの冗長化

複数のネットワークパスを用意します。

**例:**
- 複数のISP: 複数のインターネットサービスプロバイダーを使用
- 複数のルート: 複数のネットワークルートを用意

## 冗長化パターン

### 1. アクティブ-アクティブ

複数のリソースが同時に動作します。

**特徴:**
- 高可用性
- 負荷分散
- リソースの効率的な利用

**例:**
```
┌─────────┐  ┌─────────┐
│サーバー1│  │サーバー2│
└────┬────┘  └────┬────┘
     │            │
     └─────┬──────┘
           │
     ┌─────▼─────┐
     │ロードバランサー│
     └───────────┘
```

### 2. アクティブ-スタンバイ

1つのリソースが動作し、他のリソースは待機します。

**特徴:**
- シンプルな実装
- リソースの無駄（スタンバイリソース）
- フェイルオーバーに時間がかかる

**例:**
```
アクティブ: サーバー1（動作中）
スタンバイ: サーバー2（待機中）
↓ 故障時
アクティブ: サーバー2（動作開始）
```

### 3. マルチリージョン

複数のリージョンにリソースを配置します。

**特徴:**
- 災害復旧
- 地理的な分散
- レイテンシの最適化

## AI開発における冗長化

### 推論サーバーの冗長化

- **アクティブ-アクティブ**: 複数の推論サーバーで負荷を分散
- **マルチリージョン**: 複数のリージョンに推論サーバーを配置

### 学習クラスターの冗長化

- **分散学習**: 複数のサーバーで分散学習し、1つが故障しても継続
- **チェックポイント**: 学習途中の状態を複数の場所に保存

## まとめ

- **冗長化**は複数のリソースを用意し、故障に備える
- アクティブ-アクティブ、アクティブ-スタンバイ、マルチリージョンのパターンがある
- AI開発においても、推論サーバーと学習クラスターの冗長化が重要
